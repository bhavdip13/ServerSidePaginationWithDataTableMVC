@model IEnumerable<ServerSidePaginationWithDataTableMVC.Order>

@{
    ViewBag.Title = "Index";
    Layout = null;
}

<h2>Index</h2>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
<script src="https://code.jquery.com/jquery-3.3.1.min.js" type="text/javascript"></script>
<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js" type="text/javascript"></script>
<script>
    $(document).ready(function () {
        oTable = $('#myTable').dataTable({
            "destroy": true,
            "bServerSide": true,
            //"searchHighlight": true,
            "lengthMenu": [[10, 25, 50, 100], [10, 25, 50, 100]],
            "sAjaxSource": "/Orders/GetOrderListUsingSP",
            "bProcessing": true,
            "autoWidth": false,
            "fnServerParams": function (aoData) {
                //aoData.push({ "name": "roleCode", "value": $("#searchedRoleCode").val() });
            },
            "aoColumns": [
                { "mDataProp": "OrderId", "bSearchable": true, "bSortable": true }
                , { "mDataProp": "OrderNumber", "bSearchable": true, "bSortable": true }
                , { "mDataProp": "CustomerId", "bSearchable": true, "bSortable": true }
                , { "mDataProp": "CustomerInstructions", "bSearchable": true, "bSortable": true }
                , { "mDataProp": "OrderDate", "bSearchable": true, "bSortable": false }
                //, {
                //"mData": null, "bSearchable": false, "bSortable": false,
                //"mRender": function (data) {
                //    var actionHtml = "";
                //    actionHtml += '<div class="ClientAction">';
                //    if (EditClient == '1') {
                //        actionHtml += '<a href="#" class="btnEditUser roleEdit" onclick="EditUser(' + data.Client_Id + ')" data-placement="bottom" data-toggle="tooltip" data-original-title="Edit Client"><i class="fa fa-2x fa-edit text-primary"></i></a> &nbsp;&nbsp;'
                //    }
                //    if (DeleteClient == '1') {
                //        actionHtml += '<a href="#" class="btnDeleteUser roleDelete" onclick="deleteUser(' + data.Client_Id + ')" data-placement="bottom" data-toggle="tooltip" data-original-title="Delete Client" ><i class="fa fa-2x fa-trash text-danger"></i></a>&nbsp;&nbsp;&nbsp;'
                //    }
                //    if (AccountInfo == '1') {
                //        actionHtml += '<a href="#" onclick="GoToSetDefaultRate(' + data.Client_Id + ')" data-placement="bottom" data-toggle="tooltip" data-original-title="Account Info" class="btnViewBill roleAcc"><i class="fa fa-user text-info" style="font-size:24px;" ></i></a>&nbsp;&nbsp;&nbsp;'
                //    }
                //    if (ViewBill == '1') {
                //        actionHtml += '<a href="/Client/ClientBill?Client_Id=' + data.Client_Id + '" class="roleBill" data-placement="bottom" data-toggle="tooltip" data-original-title="View Bill"><i class="fa fa-file-text text-success" style="font-size:24px;" ></i></a>&nbsp;&nbsp;&nbsp;';
                //    }
                //    if (Household == '1') {
                //        actionHtml += '<a href="/Client/HouseholdDetails?clientid=' + data.Client_Id + '" class="rolehouse" data-placement="bottom" data-toggle="tooltip" data-original-title="Household Group"><i class="fa fa-users text-brown" style="font-size:24px;" ></i></a>&nbsp;&nbsp;&nbsp;';
                //    }
                //    if (ViewHistory == '1') {
                //        actionHtml += '<a href="/Client/ViewHistory?Client_Id=' + data.Client_Id + '" class="roleBill" data-placement="bottom" data-toggle="tooltip" data-original-title="View History"><i class="fa fa-history text-info" style="font-size:24px;" ></i></a>&nbsp;&nbsp;&nbsp;';
                //    }
                //    if (CoverLetter == '1') {
                //        actionHtml += '<a href="/Client/DownloadCoverLetter?Client_Id=' + data.Client_Id + '" class="roleBill" data-placement="bottom" data-toggle="tooltip" data-original-title="Download Cover Letter"><i class="fa fa-download text-success" style="font-size:24px;" ></i></a>';
                //    }
                //    actionHtml += '</div>';
                //    return actionHtml;
                //}
                //  }
            ]
            //"drawCallback": function (settings) {
            //    $('[data-toggle="tooltip"]').tooltip();
            //}

        });

    })
</script>
<p>
    @Html.ActionLink("Create New", "Create")
</p>
<table class="table" id="myTable">
    <thead>
        <tr>
            <th>
                @Html.DisplayNameFor(model => model.OrderNumber)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CustomerId)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CustomerInstructions)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.InternalNotes)
            </th>
            <th>
                @Html.DisplayNameFor(model => model.OrderDate)
            </th>
            <th>Action</th>
           
        </tr>
    </thead>
    <tbody>
        @*@foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.OrderNumber)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CustomerId)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.CustomerInstructions)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.InternalNotes)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.OrderDate)
                </td>                
            </tr>
        }*@
    </tbody>
</table>
